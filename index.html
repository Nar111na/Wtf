<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rave Clone</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --text-color: #ffffff;
            --secondary-text: #a0a0a0;
            --card-bg: rgba(255, 255, 255, 0.1); /* Прозрачные карточки */
        }

        body {
            margin: 0; padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            color: var(--text-color);
            min-height: 100vh;
            overflow-x: hidden;
            background-color: #0d0a1a; /* Цвет подложки */
        }

        /* --- АНИМИРОВАННЫЙ ФОН (Rave Style) --- */
        .rave-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            overflow: hidden;
            background: #120c1f;
        }

        .blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px); /* Сильное размытие для слияния */
            opacity: 0.7;
            animation: float 20s infinite alternate;
        }

        /* Пятно 1: Фиолетовое */
        .blob-1 {
            top: -10%;
            left: -10%;
            width: 500px;
            height: 500px;
            background: #5b247a;
            animation-duration: 25s;
        }

        /* Пятно 2: Синее */
        .blob-2 {
            bottom: -10%;
            right: -10%;
            width: 400px;
            height: 400px;
            background: #1b1464;
            animation-duration: 30s;
            animation-delay: -5s;
        }

        /* Пятно 3: Яркое розовое (акцент) */
        .blob-3 {
            top: 40%;
            left: 40%;
            width: 300px;
            height: 300px;
            background: #9d0191;
            opacity: 0.4;
            animation-duration: 20s;
            animation-delay: -10s;
        }

        @keyframes float {
            0% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0, 0) scale(1); }
        }

        /* Тонкая сетка поверх фона (для текстуры как в приложении) */
        .overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.2);
            z-index: -1;
            backdrop-filter: blur(10px); /* Легкий блюр всего фона */
        }

        /* --- ИНТЕРФЕЙС --- */
        header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; z-index: 10; position: relative; }
        .logo { font-size: 32px; font-weight: 900; letter-spacing: -1px; text-shadow: 0 2px 10px rgba(0,0,0,0.3); }
        
        .search-container { padding: 0 15px 15px; position: relative; z-index: 10; }
        .search-bar { 
            background: rgba(255, 255, 255, 0.15); 
            backdrop-filter: blur(15px); /* Эффект стекла */
            border-radius: 15px; 
            display: flex; align-items: center; padding: 12px 18px; 
            border: 1px solid rgba(255,255,255,0.1);
        }
        .search-bar input { background: none; border: none; color: white; margin-left: 12px; width: 100%; outline: none; font-size: 16px; }
        .search-bar i { color: rgba(255,255,255,0.7); }

        .section-title { display: flex; align-items: center; padding: 10px 20px 15px; font-size: 24px; font-weight: 600; position: relative; z-index: 10; }
        .section-title i { margin-right: 12px; }

        .content-list { display: flex; flex-direction: column; gap: 12px; padding: 0 12px; position: relative; z-index: 10; padding-bottom: 100px;}
        
        .card { 
            background: rgba(40, 30, 60, 0.4); /* Полупрозрачный фон карточки */
            backdrop-filter: blur(20px); /* Размытие фона под карточкой */
            border-radius: 24px; 
            display: flex; overflow: hidden; height: 110px; 
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .thumbnail-container { position: relative; width: 160px; min-width: 160px; background: #000; }
        .thumbnail-container img { width: 100%; height: 100%; object-fit: cover; opacity: 0.9; }
        .platform-overlay { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0,0,0,0.5); width: 40px; height: 40px; border-radius: 50%; display: flex; justify-content: center; align-items: center; border: 1px solid rgba(255,255,255,0.5); }
        .card-info { padding: 12px 15px; display: flex; flex-direction: column; justify-content: space-between; flex: 1; }
        .card-title { font-size: 14px; font-weight: 500; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; line-height: 1.3; text-shadow: 0 1px 2px rgba(0,0,0,0.5); }
        .avatar-count { font-size: 13px; color: rgba(255,255,255,0.7); }
        
        .fab { position: fixed; bottom: 30px; right: 25px; background: white; color: black; width: 68px; height: 68px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 35px; box-shadow: 0 8px 25px rgba(0,0,0,0.5); cursor: pointer; z-index: 100; }
    </style>
</head>
<body>

    <div class="rave-background">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
        <div class="overlay"></div>
    </div>

    <header>
        <i class="fas fa-cog"></i>
        <div class="logo">rave</div>
        <i class="fas fa-user-friends"></i>
    </header>

    <div class="search-container">
        <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="Поиск">
        </div>
    </div>

    <div class="section-title">
        <i class="fas fa-globe"></i> Публичные
    </div>

    <main class="content-list" id="rooms-container">
        </main>

    <div class="fab" onclick="createRoom()"><i class="fas fa-plus"></i></div>

    <script>
        // Данные Supabase
        const SUPABASE_URL = 'https://otkessnonmdtt
